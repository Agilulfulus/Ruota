load "System";
load "Map";
load "Arrays";

s = os.rawFile(args[1]);

os.printl("Fetched File: " .. len s .. " Chars");

m = new Map;

c in s do {
	m.containsKey(c) == false then {
		m[c] = 0;
	};
	m[c] = m[c] + 1;
};

m.contents = Arrays.sort(m.contents, ((a,b) -> {a.key < b.key}));

i in m do {
	i.key == '\t' then {
		os.print("\\t");
	} else i.key == '\n' then {
		os.print("\\n");
	} else i.key == ' ' then {
		os.print("SPACE");
	} else {
		os.print(i.key);
	};
	os.printl("\t" .. i.value);
};